/*
 * Vgascreen.cpp
 *
 *  Created on: May 3, 2018
 *      Author: M
 */

#include <stm32_ub_vga_screen.h>
#include <stdlib.h>
#include <Vgascreen.h>

Vgascreen::Vgascreen() {
	// TODO Auto-generated constructor stub
	UB_VGA_Screen_Init(); // Init VGA-Screen

	UB_VGA_FillScreen(VGA_COL_GREEN);
}

Vgascreen::~Vgascreen() {
	// TODO Auto-generated destructor stub
}

int Vgascreen::draw_line(int x1, int y1, int x2, int y2, int width, int color){
	const int dx = abs(x1-x2);
	const int dy = abs(y1-y2);
	const int derror = dy/dx;


	if(dy>dx){
		std::swap(x1,y1);
		std::swap(x2,y2);
	}

	if(x1>x2){
		std::swap(x1,x2);
		std::swap(y1,y2);
	}

	for(i = x1; i< x2; i++){
		int y = y1 + dy * (i - x1) / dx;
		int xset = x1+i;
		UB_VGA_SetPixel((xset),(y),254);
	}
	/*int error = dx / 2;
	const int ystep = (y1 < y2) ? 1 : -1;
	int y = y1;

	const int maxX = x2*/



}

